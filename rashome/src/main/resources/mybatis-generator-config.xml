<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE generatorConfiguration
        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">

<generatorConfiguration>
    <properties resource="application.properties"/>

    <context id="Mysql" targetRuntime="MyBatis3Simple" defaultModelType="flat">



        <!-- 自动检查关键字，为关键字增加反引号 -->
        <property name="autoDelimitKeywords" value="true"/>
        <property name="beginningDelimiter" value="`"/>
        <property name="endingDelimiter" value="`"/>

        <!--覆盖生成XML文件-->
        <plugin type="org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin"/>

        <plugin type="com.softwareloop.mybatis.generator.plugins.LombokPlugin">
             <!-- enable annotations -->
             <property name="data" value="true"/>
             <property name="allArgsConstructor" value="true"/>
             <property name="noArgsConstructor" value="true"/>
        </plugin>

        <!-- 注释 -->
        <commentGenerator>
            <!-- 是否不生成注释 -->
            <property name="suppressAllComments" value="true"/>
            <!-- 不希望生成的注释中包含时间戳 -->
            <property name="suppressDate" value="true"/>
            <!-- 添加 db 表中字段的注释，只有suppressAllComments为false时才生效-->
            <!--<property name="addRemarkComments" value="true"/>-->
        </commentGenerator>

        <!-- jdbc连接 -->
        <jdbcConnection driverClass="${spring.datasource.driver-class-name}"
                        connectionURL="${spring.datasource.url}"
                        userId="${spring.datasource.username}"
                        password="${spring.datasource.password}">
            <!--高版本的 mysql-connector-java 需要设置 nullCatalogMeansCurrent=true-->
            <property name="nullCatalogMeansCurrent" value="true"/>
        </jdbcConnection>

        <!-- domain 类的位置 -->
        <javaModelGenerator targetProject="src/main/java"
                            targetPackage="com.rashome.rashome.po"/>

        <!-- mapper xml的位置 -->
        <sqlMapGenerator targetProject="src/main/resources"
                         targetPackage="mapper"/>

        <!-- mapper 类的位置 -->
        <javaClientGenerator targetProject="src/main/java"
                             targetPackage="com.rashome.rashome.mapper"
                             type="XMLMAPPER"/>
        
        <table tableName="ras-home.rasberryPiData" 
            domainObjectName="RasberryPiData">
            <property name="useActualColumnNames" value="true"/>
        </table>

        <table tableName="ras-home.dht11Data" 
            domainObjectName="Dht11Data">
            <property name="useActualColumnNames" value="true"/>
        </table>

        <table tableName="ras-home.rasberryPiMapping" 
            domainObjectName="RasberryPiMapping">
            <property name="useActualColumnNames" value="true"/>
        </table>

        <table tableName="ras-home.sensorMapping" 
            domainObjectName="SensorMapping">
            <property name="useActualColumnNames" value="true"/>
        </table>
    </context>
</generatorConfiguration>